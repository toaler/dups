
OSX

for adds and moves add new entry to registry.
for deletes prune entry lazily on next change detection scane and if expected file/dir doesn't exist on file system it's entry should be purged

1. update existing file --> Existing file updated in a dir will cause the containing dir's modified time to be updated.
2. add new file --> same as 5.
3. delete existing file --> same as 7
4. move file --> same as 6
5. add new directory --> parent dir modified time changed, scan dir (ReadDir) and lookup key of new dir, it shouldn't exist so add it
6. move directory --> parent dir modified time changed, for each dir entry check if the move was a rename which means another new dir exists and needs to be added
7. delete directory --> parent dir modified time changed, scan each entry which should already exist
